---
import type {
  PagePayload,
  Hero,
  Grid,
  Emphasis,
  Presentation,
  Quote,
  CTA,
} from "../../types/index";
import type { PortableTextBlock } from "sanity";
import HomeHeroSection from "../PageSections/HomeHero.astro";
import IntroGridSection from "../PageSections/IntroGrid.astro";
import EmphasisSection from "../PageSections/Emphasis.astro";
import PresentationSection from "../PageSections/Presentation.astro";
import QuoteSection from "../PageSections/Quote.astro";
import CallToActionSection from "../PageSections/CallToAction.astro";

type Props = {
  page: PagePayload;
};

const { page } = Astro.props;
---

<Fragment>
  {
    page.content.map((section) => {
      switch (section.type) {
        case "hero":
          return <HomeHeroSection content={section as Hero} />;
        case "grid":
          return <IntroGridSection content={section as Grid} />;
        case "presentation":
          return <PresentationSection content={section as Presentation} />;
        case "emphasis":
          return <EmphasisSection content={section as Emphasis} />;
        case "quote":
          return <QuoteSection content={section as Quote} />;
        case "cta":
          return <CallToActionSection content={section as CTA} />;
        default:
          return null;
      }
    })
  }
</Fragment>
